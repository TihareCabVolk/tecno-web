<div
  class="container w-4/5 mx-auto flex justify-between items-center flex-col sm:flex-row"
>
  <!-- Logo -->
  <div class="flex items-center">
    <a
      [routerLink]="['/home']"
      class="text-2xl font-bold font-mcdonalds text-orange-600"
    >
      <span style="color: #fbcd15">Wc</span> Donald's
    </a>
  </div>
  <!-- Navigation -->
  <div class="flex items-center space-x-5">
    <!-- User Options -->
    <!-- Verificar si está logueado -->
    <div
      *ngIf="isLoggedIn; else loginButton"
      class="flex items-center space-x-6"
    >
      <!-- Usuario Logueado -->
      <div class="relative">
        <button (click)="toggleMenu()" class="flex items-center space-x-2">
          <img
            [src]="
              this.user.img_url ||
              'https://w7.pngwing.com/pngs/178/595/png-transparent-user-profile-computer-icons-login-user-avatars-thumbnail.png'
            "
            alt="Profile Picture"
            class="w-8 h-8 rounded-full"
          />
          <span class="text-gray-700">{{ this.user.username }}</span>
          <svg
            class="w-4 h-4 text-gray-700"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M19 9l-7 7-7-7"
            ></path>
          </svg>
        </button>

        <!-- Dropdown Menu -->
        <div
          *ngIf="isOpen"
          class="absolute mt-3 w-48 border rounded shadow-lg bg-white"
        >
          <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-orange-100"
            >Cuenta</a
          >
          <a href="#" class="block px-4 py-2 text-gray-700 hover:bg-orange-100"
            >Mis cupones</a
          >
          <a
            href="#"
            class="block px-4 py-2 text-gray-700 hover:bg-orange-100"
            (click)="logout()"
            >Sign out</a
          >
        </div>
      </div>

      <!-- User Cart -->
      <app-cart></app-cart>
    </div>

    <!-- Botón de "Iniciar sesión" si no está logueado -->
    <ng-template #loginButton>
      <button
        (click)="access()"
        class="bg-orange-600 text-white py-2 px-4 rounded hover:bg-orange-700"
      >
        Iniciar sesión
      </button>
    </ng-template>
  </div>
</div>
