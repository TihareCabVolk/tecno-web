<div
  *ngFor="let producto of products"
  class="flex flex-col bg-white rounded-lg shadow-lg p-5 relative"
>
  <!--Aca tendria que estar en el src item.producto.image_url-->
  <img
    src="https://img.freepik.com/psd-premium/pila-patatas-fritas-crujientes_1234317-2146.jpg?w=740"
    alt="Producto"
    class="object-cover w-full h-40 mb-4"
  />
  <h3 class="text-lg font-semibold mb-2 text-gray-800">{{ producto.name }}</h3>

  <div class="flex justify-between items-center">
    <span class="text-xl font-bold text-orange-600">
      ${{ producto.price * 100 }}
    </span>
    <!-- Botón "+" solo aparece en modo "user" -->

    <button
      *ngIf="modo === 'user'"
      (click)="openCard(producto.product_id)"
      title="Add New"
      class="group cursor-pointer outline-none hover:rotate-90 duration-300"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="50px"
        height="50px"
        viewBox="0 0 24 24"
        class="stroke-red-500 fill-none group-hover:fill-white-600 group-active:stroke-green-200 group-active:fill-orange-600 group-active:duration-0 duration-300"
      >
        <path
          d="M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z"
          stroke-width="1.5"
        ></path>
        <path d="M8 12H16" stroke-width="1.5"></path>
        <path d="M12 16V8" stroke-width="1.5"></path>
      </svg>
    </button>
  </div>

  <!-- Card flotante para detalles del producto -->
  <div
    *ngIf="productoSeleccionado === producto.product_id"
    class="fixed inset-10 bg-white shadow-lg rounded-lg p-6 flex flex-col z-50 overflow-y-auto mx-auto border border-gray-200"
    (clickOutside)="closeCard()"
  >
    <h3 class="text-xl font-bold mb-2 text-gray-800">{{ producto.name }}</h3>
    <p class="text-gray-700 mb-4">{{ producto.description }}</p>
    <button
      class="mt-auto px-4 py-2 bg-orange-500 text-white rounded hover:bg-orange-600 transition-colors"
      (click)="agregarProducto(producto)"
    >
      Agregar al pedido
    </button>
    <button
      class="absolute top-2 right-2 text-gray-600 hover:text-gray-800"
      (click)="closeCard()"
    >
      ✕
    </button>
  </div>
</div>
