<div class="sidebar">
  <aside class="w-64 bg-[#E5E7EB] p-4 fixed h-full shadow-md">
    <div class="flex justify-center">
      <a routerLink="/home" class="text-4xl font-bold font-mcdonalds text-orange-600 mb-4 block hover:text-orange-500 transition-colors duration-200 cursor-pointer">
        <span style="color: #fbcd15">W</span>c Donald's
      </a>
    </div>
    <ul>
      <li class="mb-4">
        <a (click)="profileOption('perfil')" class="sidebar-link">Mi Perfil</a>
      </li>
      <li class="mb-4">
        <a (click)="profileOption('pedidos')" class="sidebar-link"
          >Mis Pedidos</a
        >
      </li>
      <li class="mb-4">
        <a (click)="profileOption('cupones')" class="sidebar-link"
          >Mis Cupones</a
        >
      </li>
      <li class="absolute bottom-20">
        <img src="/assets/logout.png" alt="Logout" class="logout-icon" />
      </li>
    </ul>
  </aside>
</div>

<div class="content-container">
  <div
    class="profile-content p-6 bg-white rounded-lg shadow-md"
    *ngIf="selectedOption === 'perfil'"
  >
    <div>
      <h2 class="text-3xl font-bold text-gray-800 mb-4">Usuario: Juan Pérez</h2>
      <p class="text-lg text-gray-600 mb-2">
        Correo: <span class="font-medium">juan.perez&#64;example.com</span>
      </p>
      <p class="text-lg text-gray-600 mb-2">
        Teléfono: <span class="font-medium">+123 456 7890</span>
      </p>
      <p class="text-lg text-gray-600 mb-4">
        Dirección:
        <span class="font-medium">Calle Falsa 123, Ciudad Imaginaria</span>
      </p>
    </div>
    <div *ngIf="errorMessage" class="error text-red-500">
      {{ errorMessage }}
    </div>
    <p>{{ getContent() }}</p>
  </div>
  <div class="pedido-content" *ngIf="selectedOption === 'pedidos'">
    <h2 class="text-2xl font-bold text-white mb-4">Mis Pedidos</h2>
    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
    <div
      class="bg-[#F97316] p-4 rounded-lg shadow-md mb-4 transition-transform transform hover:scale-105"
    >
      <div class="flex justify-between items-center border-b pb-2">
        <h3 class="text-lg font-semibold text-white">Pedido ID: 100</h3>
        <span class="text-sm text-white">Fecha: 2023-10-01</span>
      </div>
      <div class="mt-2">
        <p class="text-lg font-bold text-white">
          Precio Total: <span class="text-green-200">$10.00</span>
        </p>
      </div>
      <div class="mt-2">
        <button
          (click)="openModal()"
          class="bg-white text-[#F97316] py-1 px-3 rounded hover:bg-gray-200 transition-colors"
        >
          Ver Detalles
        </button>
      </div>
    </div>
  </div>
  <div class="cupones-content" *ngIf="selectedOption === 'cupones'">
    <h2 class="text-2xl font-bold text-white mb-4">Mis Cupones</h2>
    <div
      class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm dark:border-gray-700 dark:bg-gray-800 md:p-8 mx-auto max-w-4xl"
    >
      <div
        class="space-y-4 md:flex md:items-center md:justify-between md:gap-6 md:space-y-0"
      >
        <div class="shrink-0 md:order-1 flex flex-col items-start">
          <img
            class="h-10 w-10 dark:hidden"
            src="https://cupon.cl/static/shop/49316/logo/cupon_easy.png"
            alt="Cupon Image"
          />
          <p
            class="text-8xl font-medium text-gray-900 hover:scale-105 dark:text-white"
            contenteditable="true"
          >
            20%
          </p>
        </div>
        <div class="w-full min-w-0 flex-1 space-y-4 md:order-2 md:max-w-md">
          <div class="flex items-center justify-center h-full">
            <p
              class="text-4xl font-medium text-gray-900 hover:scale-105 dark:text-white"
              contenteditable="true"
            >
              Nombre del Cupón
            </p>
          </div>
          <div class="mt-5 grid grid-cols-1 sm:grid-cols-2 gap-5">
            <div>
              <label
                class="font-semibold text-sm text-gray-600 pb-1 block"
                for="desde"
                >Desde</label
              >
              <input
                class="border rounded-lg px-3 py-2 mt-1 mb-5 text-sm w-full focus:border-blue-500 focus:ring-2 focus:ring-blue-500 text-black"
                type="date"
                id="desde"
              />
            </div>
            <div>
              <label
                class="font-semibold text-sm text-gray-600 pb-1 block"
                for="hasta"
                >Hasta</label
              >
              <input
                class="border rounded-lg px-3 py-2 mt-1 mb-5 text-sm w-full focus:border-blue-500 focus:ring-2 focus:ring-blue-500 text-black"
                type="date"
                id="hasta"
              />
            </div>
          </div>
        </div>
        <div
          class="flex items-center justify-between md:order-3 md:justify-end"
        >
          <div class="text-end md:order-4 md:w-32">
            <div class="flex items-center gap-4">
              <button
                (click)="openCouponModal()"
                class="text-blue-600 font-bold hover:underline"
              >
                Ver detalles
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal para mostrar detalles del pedido -->
<div
  *ngIf="isModalOpen"
  class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"
>
  <div class="bg-white rounded-lg p-6 max-w-md w-full">
    <h2 class="text-2xl font-bold mb-4">Detalles del Pedido</h2>
    <p><strong>Pedido ID:</strong> 100</p>
    <p><strong>Fecha:</strong> 2023-10-01</p>
    <p><strong>Precio Total:</strong> $10.00</p>
    <p>
      <strong>Descripción:</strong> Este es un pedido de prueba para mostrar los
      detalles.
    </p>
    <button
      (click)="closeModal()"
      class="mt-4 bg-red-500 text-white py-2 px-4 rounded"
    >
      Cerrar
    </button>
  </div>
</div>

<!-- Modal para mostrar detalles del cupón -->
<div
  *ngIf="isCouponModalOpen"
  class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50"
>
  <div class="bg-white rounded-lg p-6 max-w-md w-full">
    <h2 class="text-2xl font-bold mb-4">Detalles del Cupón</h2>
    <p><strong>Nombre del Cupón:</strong> Nombre del Cupón</p>
    <p><strong>Porcentaje de Descuento:</strong> 20%</p>
    <p>
      <strong>Código:</strong> <span *ngIf="!showCode">******</span
      ><span *ngIf="showCode">ABC123</span>
    </p>
    <div class="flex justify-between mt-4">
      <button
        (click)="closeCouponModal()"
        class="bg-red-500 text-white py-2 px-4 rounded"
      >
        Cerrar
      </button>
      <button
        (click)="toggleCode()"
        class="bg-green-500 text-white py-2 px-4 rounded"
      >
        {{ showCode ? "Ocultar Código" : "Ver Código" }}
      </button>
    </div>
  </div>
</div>
